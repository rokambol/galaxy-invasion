<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="shortcut icon" href="{{ url_for('static', filename='img/galaxy.gif') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/grayscale.min.css') }}" type="text/css" />
    <link rel="stylesheet" href="{{ url_for('static', filename='vendor/bootstrap/css/bootstrap.min.css') }}" type="text/css" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" type="text/css" />
    <title>{{ page_title }}</title>
   <script src="{{ url_for('static', filename='vendor/jquery/jquery.min.js') }}"></script>
</head>
<body id="page-top">
  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light" id="mainNav">
    <div class="container-fluid">
      <a class="navbar-brand js-scroll-trigger" href="#page-top">WELCOME TO OUR NEW HOME</a>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        Menu
        <i class="fas fa-bars"></i>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="{{ url_for ('home') }}">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="{{ url_for ('project') }}">Graph page</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="{{ url_for ('citizenship') }}">Become a citizen</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!--chart section-->
<section id="projects" class="projects-section bg-black">
    
<!--<select id="form">
    <div  class="container mx-auto align-items-center">
        <option selected>Choose Graphic</option>
        <option value="1">One</option>
        <option value="2">Two</option>
        <option value="3">Three</option>
    </div>
</select>-->
    
    
   <h3 class="text-white-50 mx-auto mt-2 mb-5">Chart show distance from each planet to Sun:</h3>  
    <div  class="container mx-auto align-items-center">
        <div class="row">
            <div id = "graphic" class="col-12">
                <h6 class="text-white-50 pb-0 mx-auto">in millions kilometers</h6>
            </div>
             <div id = "graphic1" class="col-12">
                  <h3 class="text-white-50 mx-auto mt-2 mb-5">Chart show number of moons for each planet:</h3>
                <h6 class="text-white-50 pb-0 mx-auto">Number of Moons</h6>
            </div>
            <div id = "graphic2" class="col-12">
                 <h3 class="text-white-50 mx-auto mt-2 mb-5">Chart show diameter for each planet:</h3>
                <h6 class="text-white-50 pb-0 mx-auto">in kilometers</h6>
            </div>
        </div>
    </div>
</section>
  
   <!-- Footer -->
  <footer class="bg-black small text-center text-white-50">
    <div class="container">
      Created by Dimitar Milev
    </div>
  </footer>
  
      <script src="{{ url_for('static', filename='vendor/jquery/jquery.min.js') }}"></script>
      <script src="{{ url_for('static', filename='vendor/bootstrap/js/bootstrap.bundle.min.js') }}"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"></script>
      <script type="text/javascript">
      var $sel = $("#form");
      var value = $sel.val();
      
      d3.select("#form").on("change", function() {
        $('#graphic').replaceWith('#graphic1')
});
    
     
      function data(){
        var data = {{ delta|safe }}; //variable get data from python
           return data;
      }
    

//sort bars based on value
       /* data = data().sort(function (a, b) {
            return d3.ascending(a.value, b.value);
        })

        //set up svg using margin conventions -need plenty of room on the left for labels
        var margin = {
            top: 1,
            right: 25,
            bottom: 15,
            left: 100
        };

        var width = 960 - margin.left - margin.right,
            height = 500 - margin.top - margin.bottom;

        var svg = d3.select("#graphic")
            .append("svg")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

        var x = d3.scale.linear()
            .range([0, width])
            .domain([0, d3.max(data, function (d) {
                return (d.dist_from_sun)* 0.9;
            })]);

        var y = d3.scale.ordinal()
            .rangeRoundBands([height, 0], .1)
            .domain(data.map(function (d) {
                return d.name;
            }));

        //make y axis to show bar names
        var yAxis = d3.svg.axis()
            .scale(y)
            //no tick marks
            .tickSize(0)
            .orient("left");

        var gy = svg.append("g")
            .attr("class", "y axis")
            .call(yAxis)

        var bars = svg.selectAll(".bar")
            .data(data)
            .enter()
            .append("g")

        //append rects
        bars.append("rect")
            .attr("class", "bar")
            .attr("y", function (d) {
                return y(d.name);
            })
            .attr("height", y.rangeBand())
            .attr("x", 0)
            .attr("width", function (d) {
                return x(d.dist_from_sun);
            });

        //add a value label to the right of each bar
        bars.append("text")
            .attr("class", "label")
            //y position of the label is halfway down the bar
            .attr("y", function (d) {
                return y(d.name) + y.rangeBand() / 2 + 4;
            })
            //x position is 3 pixels to the right of the bar
            .attr("x", function (d) {
                return x(d.dist_from_sun) / 2;
            })
            .text(function (d) {
                return d.dist_from_sun;
            });*/
      </script>
      <script type="text/javascript" src="static/js/script.js"></script>
    </body> 
</html>